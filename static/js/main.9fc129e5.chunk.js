(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){"use strict";n(39);var r=function(){function e(e){var t;e=e.trim().toLowerCase();for(var n=1;n<arguments.length;n++)if(t=arguments[n].toLowerCase(),e.substr(e.length-t.length)==t)return!0;return!1}function t(e,t,n){if("string"!==typeof t.vert)throw Error("[webgl.program] Missing attribute `vert` in argument `codes`!");if("string"!==typeof t.frag)throw Error("[webgl.program] Missing attribute `frag` in argument `codes`!");t=function(e,t){var n,r,a={};for(n in e)r=e[n],a[n]=r.split("\n").map(function(e){if("#include"!=e.trim().substr(0,8))return e;var n=e.indexOf("#include")+8,r=e.substr(n).trim();"'<\"".indexOf(r.charAt(0))>-1&&(r=r.substr(1,r.length-2));var a=t[r];if("string"!==typeof a)throw Error("Include not found in shader: "+r);return a}).join("\n");return a}(t,n),this.gl=e,Object.freeze(this.gl),this._typesNamesLookup=function(e){var t,n,r={};for(t in e)"number"===typeof(n=e[t])&&(r[n]=t);return r}(e);var c=e.createProgram(),s=function(e,t){return o(e.VERTEX_SHADER,e,t)}(e,t.vert),u=function(e,t){return o(e.FRAGMENT_SHADER,e,t)}(e,t.frag);e.attachShader(c,s),e.attachShader(c,u),e.linkProgram(c),this.program=c,Object.freeze(this.program),this.use(),function(e,t,n){var r,a,o={},c=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES);for(r=0;r<c;r++)(a=t.getActiveAttrib(n,r)).typeName=e.getTypeName(a.type),a.length=i.call(e,t,a),a.location=t.getAttribLocation(n,a.name),o[a.name]=a;e.attribs=o,Object.freeze(e.attribs)}(this,e,c),function(e,t,n){var o,i,c={},s=t.getProgramParameter(n,t.ACTIVE_UNIFORMS);for(o=0;o<s;o++)i=t.getActiveUniform(n,o),c[i.name]=t.getUniformLocation(n,i.name),Object.defineProperty(e,"$"+i.name,{set:r(t,i,c[i.name],e._typesNamesLookup),get:a(i),enumerable:!0,configurable:!1});e.uniforms=c,Object.freeze(e.uniforms)}(this,e,c)}t.prototype.destroy=function(){this.gl.deleteProgram(this.program)},t.prototype.use=function(){this.gl.useProgram(this.program)},t.prototype.getTypeName=function(e){return this._typesNamesLookup[e]};var n=(new Float32Array).BYTES_PER_ELEMENT;function r(e,t,n,r){var a="_$"+t.name;switch(t.type){case e.BYTE:case e.UNSIGNED_BYTE:case e.SHORT:case e.UNSIGNED_SHORT:case e.INT:case e.UNSIGNED_INT:case e.SAMPLER_2D:return 1==t.size?function(t){e.uniform1i(n,t),this[a]=t}:function(t){e.uniform1iv(n,t),this[a]=t};case e.FLOAT:return 1==t.size?function(t){e.uniform1f(n,t),this[a]=t}:function(t){e.uniform1fv(n,t),this[a]=t};case e.FLOAT_VEC3:if(1==t.size)return function(t){e.uniform3fv(n,t),this[a]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_VEC3 in uniform `"+t.name+"'!'");case e.FLOAT_VEC4:if(1==t.size)return function(t){e.uniform4fv(n,t),this[a]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_VEC4 in uniform `"+t.name+"'!'");case e.FLOAT_MAT3:if(1==t.size)return function(t){e.uniformMatrix3fv(n,!1,t),this[a]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_MAT3 in uniform `"+t.name+"'!'");case e.FLOAT_MAT4:if(1==t.size)return function(t){e.uniformMatrix4fv(n,!1,t),this[a]=t};throw Error("[webgl.program.createWriter] Don't know how to deal arrays of FLOAT_MAT4 in uniform `"+t.name+"'!'");default:throw Error("[webgl.program.createWriter] Don't know how to deal with uniform `"+t.name+"` of type "+r[t.type]+"!")}}function a(e){var t="_$"+e.name;return function(){return this[t]}}function o(e,t,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(n),console.error("An error occurred compiling the shader: "+t.getShaderInfoLog(r)),null)}function i(e,t){switch(t.type){case e.FLOAT_VEC4:return 4;case e.FLOAT_VEC3:return 3;case e.FLOAT_VEC2:return 2;case e.FLOAT:return 1;default:throw"[webgl.program:getSize] I don't know the size of the attribute '"+t.name+"' because I don't know the type "+this.getTypeName(t.type)+"!"}}return t.prototype.bindAttribs=function(e){this.use();var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e);var r=Array.prototype.slice.call(arguments,1),a=0;r.forEach(function(e){var t=this.attribs[e];if(!t)throw'Cannot find attribute "'+e+'"!\nIt may be not active because unused in the shader.\nAvailable attributes are: '+Object.keys(this.attribs).map(function(e){return'"'+e+'"'}).join(", ");a+=t.size*t.length*n},this);var o=0;r.forEach(function(e){var r=this.attribs[e];t.enableVertexAttribArray(r.location),t.vertexAttribPointer(r.location,r.size*r.length,t.FLOAT,!1,a,o),o+=r.size*r.length*n},this)},{Program:t,fetchAssets:function(t){return new Promise(function(n,r){var a;("undefined"===typeof a&&(a="TOLOKOBAN"),new Promise(function(e,t){function n(){var t=document.createElement("div");t.setAttribute("id","SPLASH"),t.innerHTML="<div>"+a+"</div><div>"+a+"</div>",document.body.appendChild(t);var n=document.createElement("div");n.setAttribute("id","PROGRESS"),document.body.appendChild(n),window.setTimeout(function(){t.setAttribute("class","show")},50),e()}"complete"===document.readyState?n():document.addEventListener("DOMContentLoaded",n)})).then(function(){var r=0,a=0;for(var o in t)r++;var i=document.getElementById("PROGRESS"),c={};function s(e){var t=++a/r;if(i.style.transform="scaleX("+t+")",a>=r)return n(c),void function(){var e=document.getElementById("SPLASH");e.setAttribute("class","hide");var t=document.getElementById("PROGRESS");document.body.removeChild(t),window.setTimeout(function(){document.body.removeChild(e)},500)}()}Object.keys(t).forEach(function(n){var r=t[n];if(e(r,"jpg","png","gif","svg")){var a=new Image;a.crossOrigin="anonymous",c[n]=a,a.onload=s.bind(null,r),a.onerror=function(e){console.error('Unable to load image "'+n+'":',r),console.error(e),s()},a.src=r}else if(e(r,"ogg","wav","mp3")){var o=document.createElement("audio");c[n]=o;var i=function(){o._loaded||(o._loaded=!0,s())};o.addEventListener("canplay",i),o.addEventListener("loadeddata",i),window.setTimeout(i,3e3),o.addEventListener("error",function(e){console.error('Unable to load sound "'+n+'":',r),console.error(e),s()}),o.src=r}else fetch(r).then(function(t){if(!t.ok)throw"";return e(r,"json")?t.json():t.text()}).then(function(e){c[n]=e,s()}).catch(function(e){console.error('Unable to fetch asset "'+n+'": ',r),s()})})})})},fillArrayBuffer:function(e,t){if(!(e instanceof WebGLRenderingContext)&&!(e instanceof WebGL2RenderingContext))throw"Le premier argument de WebGL.fillArrayBuffer doit obligatoirment \xeatre de type WebGLRenderingContext ou WebGL2RenderingContext !";if(!(t instanceof Float32Array))throw"Le second argument de WebGL.fillArrayBuffer doit obligatoirment \xeatre de type Float32Array !";var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),n},fillElementBuffer:function(e,t){if(!(e instanceof WebGLRenderingContext)&&!(e instanceof WebGL2RenderingContext))throw"Le premier argument de WebGL.fillArrayBuffer doit obligatoirment \xeatre de type WebGLRenderingContext ou WebGL2RenderingContext !";if(!(t instanceof Uint16Array))throw"Le second argument de WebGL.fillArrayBuffer doit obligatoirment \xeatre de type Uint16Array !";var n=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW),n},newCanvas:function(){var e=document.body,t=document.createElement("canvas");return t.setAttribute("width",e.clientWidth),t.setAttribute("height",e.clientHeight),e.appendChild(t),t}}}();t.a=r},,,function(e,t,n){e.exports=n.p+"static/media/diam.22b663f1.mp3"},function(e,t,n){e.exports=n.p+"static/media/exit.8e36160e.mp3"},function(e,t,n){e.exports=n.p+"static/media/expl.7dc2d8e9.mp3"},function(e,t,n){e.exports=n.p+"static/media/music.6c7f2a4e.mp3"},function(e,t,n){e.exports=n.p+"static/media/rock.9dfde545.mp3"},function(e,t,n){e.exports=n.p+"static/media/background.2b481ee3.jpg"},function(e,t,n){e.exports=n.p+"static/media/row-boulder.4b960852.png"},function(e,t,n){e.exports=n.p+"static/media/row-diam.fbed7ca6.png"},function(e,t,n){e.exports=n.p+"static/media/exit.2e47f968.png"},function(e,t,n){e.exports=n.p+"static/media/row-explo.992fe60c.png"},function(e,t,n){e.exports=n.p+"static/media/ground.0a555d7a.png"},function(e,t,n){e.exports=n.p+"static/media/row-walk.c6a0075d.png"},function(e,t,n){e.exports=n.p+"static/media/row-monster.79be3ac1.png"},function(e,t,n){e.exports=n.p+"static/media/wall.bc9ac803.jpg"},function(e,t,n){e.exports=n.p+"static/media/hue.2c988a52.vert"},function(e,t,n){e.exports=n.p+"static/media/hue.c70344c5.frag"},function(e,t,n){e.exports=n.p+"static/media/coords.0a667af5.vert"},function(e,t,n){e.exports=n.p+"static/media/coords-move.3655ffb5.vert"},function(e,t,n){e.exports=n.p+"static/media/transition.29fc1d71.vert"},function(e,t,n){e.exports=n.p+"static/media/transition.4c773719.frag"},function(e,t,n){e.exports=n.p+"static/media/background.bf6d184a.vert"},function(e,t,n){e.exports=n.p+"static/media/background.c266c002.frag"},function(e,t,n){e.exports=n.p+"static/media/wall.ab246fe9.vert"},function(e,t,n){e.exports=n.p+"static/media/wall.b699dc58.frag"},function(e,t,n){e.exports=n.p+"static/media/level.273a6aa9.vert"},function(e,t,n){e.exports=n.p+"static/media/level.dc63b5ff.frag"},function(e,t,n){e.exports=n.p+"static/media/rain.9c6fc13a.vert"},function(e,t,n){e.exports=n.p+"static/media/rain.52499cb7.frag"},function(e,t,n){e.exports=n(40)},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(33);var r=n(0),a=n.n(r),o=n(3),i=n.n(o),c=n(1),s=n(4),u=n.n(s),f=n(5),d=n.n(f),m=n(6),l=n.n(m),p=n(7),g=n.n(p),h=n(8),b=n.n(h),v=n(9),E=n.n(v),w=n(10),A=n.n(w),y=n(11),x=n.n(y),T=n(12),L=n.n(T),R=n(13),S=n.n(R),_=n(14),O=n.n(_),F=n(15),C=n.n(F),k=n(16),B=n.n(k),I=n(17),N=n.n(I),P=n(18),V=n.n(P),W=n(19),G=n.n(W),M=n(20),U=n.n(M),z=n(21),D=n.n(z),j=n(22),H=n.n(j),Y=n(23),$=n.n(Y),J=n(24),K=n.n(J),X=n(25),q=n.n(X),Q=n(26),Z=n.n(Q),ee=n(27),te=n.n(ee),ne=n(28),re=n.n(ne),ae=n(29),oe=n.n(ae),ie=n(30),ce=n.n(ie),se=n(31),ue=n.n(se),fe={diamSound:u.a,exitSound:d.a,explSound:l.a,musicSound:g.a,rockSound:b.a,backgroundTexture:E.a,boulderTexture:A.a,diamTexture:x.a,exitTexture:L.a,exploTexture:S.a,groundTexture:O.a,heroTexture:C.a,monsterTexture:B.a,wallTexture:N.a,hueVert:V.a,hueFrag:G.a,coordsVert:U.a,coordsMoveVert:D.a,transitionVert:H.a,transitionFrag:$.a,backgroundVert:K.a,backgroundFrag:q.a,wallVert:Z.a,wallFrag:te.a,levelVert:re.a,levelFrag:oe.a,rainVert:ce.a,rainFrag:ue.a};c.a.fetchAssets(fe).then(function(e){document.body.removeChild(document.getElementById("splash")),i.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement("canvas",{id:"canvas"}),a.a.createElement("header",null,a.a.createElement("div",null,"Life x ",a.a.createElement("b",{id:"life"},"3")),a.a.createElement("div",null,a.a.createElement("b",{id:"score"},"0")),a.a.createElement("div",{id:"bonus"},"0"),a.a.createElement("div",null,a.a.createElement("b",{id:"diam"},"12")," x ",a.a.createElement("img",{src:"diam.gif"}))),a.a.createElement("div",{id:"welcome"},a.a.createElement("div",{className:"tbl",id:"highscores"}),a.a.createElement("center",null,a.a.createElement("button",{id:"btnStart"},"START"))),a.a.createElement("div",{id:"congrat",className:"hide"},a.a.createElement("div",null,a.a.createElement("span",{id:"new-score"}),a.a.createElement("span",null," points")),a.a.createElement("input",{id:"name",maxLength:"9",size:"8",defaultValue:""}),a.a.createElement("button",{id:"btnOk"},"OK"))),document.getElementById("root")),n.e(3).then(n.bind(null,42)).then(function(t){try{console.log("app=",t),t.default.go(e)}catch(n){console.error(n)}})})}],[[32,1,2]]]);
//# sourceMappingURL=main.9fc129e5.chunk.js.map