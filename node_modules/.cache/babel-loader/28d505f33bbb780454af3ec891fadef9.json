{"ast":null,"code":"import _classCallCheck from \"/home/tolokoban/Code/github/boulder-dash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tolokoban/Code/github/boulder-dash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar GamepadListener =\n/*#__PURE__*/\nfunction () {\n  function GamepadListener() {\n    var _this = this;\n\n    _classCallCheck(this, GamepadListener);\n\n    this._isConnected = false;\n    this._gamepad = void 0;\n    console.log(\"Gamepad...\");\n    window.addEventListener(\"gamepadconnected\", function (e) {\n      return _this.handleConnected(e);\n    });\n    window.addEventListener(\"gamepaddisconnected\", function (e) {\n      return _this.handleDisconnected(e);\n    });\n  }\n\n  _createClass(GamepadListener, [{\n    key: \"handleConnected\",\n    value: function handleConnected(evt) {\n      var _this2 = this;\n\n      console.log(\"[connect] evt=\", evt);\n      this._isConnected = true;\n      this._gamepad = navigator.getGamepads()[0];\n      setInterval(function () {\n        var welcome = document.getElementById(\"welcome\");\n        welcome.textContent = JSON.stringify(_this2._gamepad.axes);\n      }, 1000);\n    }\n  }, {\n    key: \"handleDisconnected\",\n    value: function handleDisconnected(evt) {\n      console.log(\"[disconnect] evt=\", evt);\n      this._isConnected = true;\n      delete this._gamepad;\n    }\n  }, {\n    key: \"isConnected\",\n    get: function get() {\n      return this._isConnected;\n    }\n  }]);\n\n  return GamepadListener;\n}();\n\nexport default new GamepadListener();","map":{"version":3,"sources":["/home/tolokoban/Code/github/boulder-dash/src/lib/gamepad.ts"],"names":["GamepadListener","_isConnected","_gamepad","console","log","window","addEventListener","e","handleConnected","handleDisconnected","evt","navigator","getGamepads","setInterval","welcome","document","getElementById","textContent","JSON","stringify","axes"],"mappings":";;;IAAMA,e;;;AAIF,6BAAc;AAAA;;AAAA;;AAAA,SAHNC,YAGM,GAHkB,KAGlB;AAAA,SAFNC,QAEM;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,kBAAxB,EAA4C,UAAAC,CAAC;AAAA,aAAI,KAAI,CAACC,eAAL,CAAqBD,CAArB,CAAJ;AAAA,KAA7C;AACAF,IAAAA,MAAM,CAACC,gBAAP,CAAwB,qBAAxB,EAA+C,UAAAC,CAAC;AAAA,aAAI,KAAI,CAACE,kBAAL,CAAwBF,CAAxB,CAAJ;AAAA,KAAhD;AACH;;;;oCAEuBG,G,EAAK;AAAA;;AACzBP,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BM,GAA9B;AACA,WAAKT,YAAL,GAAoB,IAApB;AACA,WAAKC,QAAL,GAAgBS,SAAS,CAACC,WAAV,GAAwB,CAAxB,CAAhB;AAEAC,MAAAA,WAAW,CAAC,YAAM;AACd,YAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAhB;AACAF,QAAAA,OAAO,CAACG,WAAR,GAAsBC,IAAI,CAACC,SAAL,CAAe,MAAI,CAACjB,QAAL,CAAckB,IAA7B,CAAtB;AACH,OAHU,EAGR,IAHQ,CAAX;AAIH;;;uCAE0BV,G,EAAK;AAC5BP,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCM,GAAjC;AACA,WAAKT,YAAL,GAAoB,IAApB;AACA,aAAO,KAAKC,QAAZ;AACH;;;wBAEiB;AAAE,aAAO,KAAKD,YAAZ;AAA2B;;;;;;AAInD,eAAe,IAAID,eAAJ,EAAf","sourcesContent":["class GamepadListener {\n    private _isConnected: boolean = false;\n    private _gamepad;\n\n    constructor() {\n        console.log(\"Gamepad...\");\n        window.addEventListener(\"gamepadconnected\", e => this.handleConnected(e));\n        window.addEventListener(\"gamepaddisconnected\", e => this.handleDisconnected(e));\n    }\n\n    private handleConnected(evt) {\n        console.log(\"[connect] evt=\", evt);\n        this._isConnected = true;\n        this._gamepad = navigator.getGamepads()[0];\n\n        setInterval(() => {\n            const welcome = document.getElementById(\"welcome\");\n            welcome.textContent = JSON.stringify(this._gamepad.axes);\n        }, 1000);\n    }\n\n    private handleDisconnected(evt) {\n        console.log(\"[disconnect] evt=\", evt);\n        this._isConnected = true;\n        delete this._gamepad;\n    }\n\n    get isConnected() { return this._isConnected; }\n}\n\n\nexport default new GamepadListener();\n"]},"metadata":{},"sourceType":"module"}