{"ast":null,"code":"import _classCallCheck from \"/home/tolokoban/Code/github/boulder-dash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tolokoban/Code/github/boulder-dash/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar Finger =\n/*#__PURE__*/\nfunction () {\n  function Finger() {\n    _classCallCheck(this, Finger);\n\n    this.fingers = [];\n  }\n\n  _createClass(Finger, [{\n    key: \"getIndex\",\n    value: function getIndex(identifier) {\n      var index = this.fingers.indexOf(identifier);\n      if (index !== -1) return index;\n      var indexOfFirstNull = this.fingers.indexOf(null);\n\n      if (indexOfFirstNull !== -1) {\n        this.fingers[indexOfFirstNull] = identifier;\n        return indexOfFirstNull;\n      }\n\n      this.fingers.push(identifier);\n      return this.fingers.length - 1;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(identifier) {\n      var index = this.fingers.indexOf(identifier);\n      if (index !== -1) this.fingers[index] = null;\n    }\n  }]);\n\n  return Finger;\n}();\n\nexport { Finger as default };","map":{"version":3,"sources":["/home/tolokoban/Code/github/boulder-dash/src/tfw/gesture/finger.ts"],"names":["Finger","fingers","identifier","index","indexOf","indexOfFirstNull","push","length"],"mappings":";;;IAEqBA,M;;;;;;SACTC,O,GAAyB,E;;;;;6BAExBC,U,EAA4B;AACjC,UAAMC,KAAK,GAAG,KAAKF,OAAL,CAAaG,OAAb,CAAqBF,UAArB,CAAd;AACA,UAAIC,KAAK,KAAK,CAAC,CAAf,EAAkB,OAAOA,KAAP;AAClB,UAAME,gBAAgB,GAAG,KAAKJ,OAAL,CAAaG,OAAb,CAAqB,IAArB,CAAzB;;AACA,UAAIC,gBAAgB,KAAK,CAAC,CAA1B,EAA6B;AACzB,aAAKJ,OAAL,CAAaI,gBAAb,IAAiCH,UAAjC;AACA,eAAOG,gBAAP;AACH;;AACD,WAAKJ,OAAL,CAAaK,IAAb,CAAkBJ,UAAlB;AACA,aAAO,KAAKD,OAAL,CAAaM,MAAb,GAAsB,CAA7B;AACH;;;2BAEML,U,EAAoB;AACvB,UAAMC,KAAK,GAAG,KAAKF,OAAL,CAAaG,OAAb,CAAqBF,UAArB,CAAd;AACA,UAAIC,KAAK,KAAK,CAAC,CAAf,EAAkB,KAAKF,OAAL,CAAaE,KAAb,IAAsB,IAAtB;AACrB;;;;;;SAlBgBH,M","sourcesContent":["type TIdentifier = number | null;\n\nexport default class Finger {\n    private fingers: TIdentifier[] = [];\n\n    getIndex(identifier: number): number {\n        const index = this.fingers.indexOf(identifier);\n        if (index !== -1) return index;\n        const indexOfFirstNull = this.fingers.indexOf(null);\n        if (indexOfFirstNull !== -1) {\n            this.fingers[indexOfFirstNull] = identifier;\n            return indexOfFirstNull;\n        }\n        this.fingers.push(identifier);\n        return this.fingers.length - 1;\n    }\n\n    remove(identifier: number) {\n        const index = this.fingers.indexOf(identifier);\n        if (index !== -1) this.fingers[index] = null;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}